# ===================================================================
# BuhBot Backend Environment Configuration - EXAMPLE FILE
# ===================================================================
# IMPORTANT: Copy this file to .env and fill in your actual credentials
# Command: cp .env.example .env
#
# .env is git-ignored and will NOT be committed to the repository

# ===================================================================
# Node Environment
# ===================================================================
NODE_ENV=development
PORT=3000

# ===================================================================
# Supabase Configuration
# ===================================================================
# Get from: Supabase Dashboard > Project Settings

# Supabase Project URL
# Format: https://[PROJECT-REF].supabase.co
SUPABASE_URL=https://PROJECT-REF.supabase.co

# Supabase Service Role Key (for admin operations and JWT validation)
# Get from: Supabase Dashboard > Project Settings > API > service_role key
# SECURITY: Never expose this key to client-side code
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ===================================================================
# Database Configuration (Supabase PostgreSQL)
# ===================================================================
# Get from: Supabase Dashboard > Project Settings > Database > Connection String
#
# DATABASE_URL: Connection pooler URL (for application queries)
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres?pgbouncer=true
DATABASE_URL=postgresql://postgres.PROJECT-REF:PASSWORD@aws-0-eu-central-1.pooler.supabase.com:6543/postgres?pgbouncer=true
#
# DIRECT_URL: Direct database URL (for Prisma migrations, bypasses pooler)
# Format: postgresql://postgres:[PASSWORD]@db.PROJECT-REF.supabase.co:5432/postgres
# Optional: Only required when using connection pooler (when DATABASE_URL has pgbouncer=true)
DIRECT_URL=postgresql://postgres:PASSWORD@db.PROJECT-REF.supabase.co:5432/postgres

# ===================================================================
# Redis Configuration (for BullMQ queues)
# ===================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===================================================================
# Telegram Bot Configuration
# ===================================================================
# Get from: @BotFather on Telegram
# Command: /newbot
TELEGRAM_BOT_TOKEN=your_bot_token_here

# ===================================================================
# Logging
# ===================================================================
# Levels: error, warn, info, debug
LOG_LEVEL=info

# ===================================================================
# Security & Encryption
# ===================================================================
# Generate with: openssl rand -base64 32
JWT_SECRET=
ENCRYPTION_KEY=

# ===================================================================
# Yandex Cloud & Yandex GPT (for AI features)
# ===================================================================
# Get from: Yandex Cloud Console > API Keys
YANDEX_GPT_API_KEY=
YANDEX_FOLDER_ID=

# ===================================================================
# Metrics & Monitoring
# ===================================================================
PROMETHEUS_PORT=9090
ENABLE_METRICS=false
ENABLE_SENTRY=false

# Sentry (optional error tracking)
SENTRY_DSN=

# ===================================================================
# Notes
# ===================================================================
# - Never commit .env to git
# - Keep your tokens and passwords secure
# - Use environment-specific values for different setups (dev, staging, production)
# - All data must be stored in Yandex Cloud for 152-ФЗ compliance
# - Generate strong secrets with: openssl rand -base64 32
