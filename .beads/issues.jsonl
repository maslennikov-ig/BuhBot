{"id":"buh-3fb","title":"P1: Fix recovery logic to use global manager fallback","description":"timer.service.ts:681-689 - Recovery uses getManagersForChat() without global fallback. Add fallback to global managers.","status":"closed","priority":1,"issue_type":"bug","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:13:18.349454368+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:15:17.840912472+03:00","closed_at":"2026-01-14T16:15:17.840912472+03:00","close_reason":"Fixed: race condition, recovery fallback, logging, Redis policy"}
{"id":"buh-4ru","title":"P2: Add transaction boundaries for SLA breach handling","description":"sla-timer.worker.ts:77-101 - Multiple DB updates without transaction. Use prisma.$transaction for atomic operations.","status":"closed","priority":2,"issue_type":"chore","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:13:19.746350333+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:17:39.835558086+03:00","closed_at":"2026-01-14T16:17:39.835558086+03:00","close_reason":"Fixed: UI warning, transaction boundaries, manager validation"}
{"id":"buh-78q","title":"Add logging when no managers configured for alerts","description":"В backend/src/queues/alert.worker.ts добавить logger.warn когда managerIds.length === 0","status":"closed","priority":3,"issue_type":"chore","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:05:44.706863307+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:15:17.847639593+03:00","closed_at":"2026-01-14T16:15:17.847639593+03:00","close_reason":"Fixed: race condition, recovery fallback, logging, Redis policy"}
{"id":"buh-chq","title":"HOTFIX: Configure SLA settings - set manager_telegram_ids and sla_threshold=15","description":"Root cause: manager_telegram_ids was empty [], sla_threshold was 60 instead of 15. Fixed via SQL: UPDATE global_settings SET global_manager_ids=['166848328'], default_sla_threshold=15; UPDATE chats SET sla_threshold_minutes=15, manager_telegram_ids=['166848328'] WHERE sla_enabled=true","status":"closed","priority":1,"issue_type":"bug","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T15:59:40.995281559+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T15:59:47.159179014+03:00","closed_at":"2026-01-14T15:59:47.159179014+03:00","close_reason":"Fixed: Updated global_settings and all 4 chats with sla_enabled=true. SLA threshold set to 15 min, manager_telegram_ids set to [166848328]"}
{"id":"buh-dex","title":"P1: Validate manager lists before alert creation","description":"alert.service.ts:133-164 - Alert created BEFORE checking for managers. Move validation before creation, add global fallback.","status":"closed","priority":1,"issue_type":"bug","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:13:17.240767346+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:17:39.850309561+03:00","closed_at":"2026-01-14T16:17:39.850309561+03:00","close_reason":"Fixed: UI warning, transaction boundaries, manager validation"}
{"id":"buh-gma","title":"Code review: SLA/alert system","description":"Провести код-ревью SLA/alert системы: alert.worker.ts, sla-timer.worker.ts, message.handler.ts. Проверить на баги, best practices, улучшения.","status":"closed","priority":2,"issue_type":"chore","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:07:58.777748986+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:17:39.857514217+03:00","closed_at":"2026-01-14T16:17:39.857514217+03:00","close_reason":"Fixed: UI warning, transaction boundaries, manager validation"}
{"id":"buh-hzd","title":"P0: Fix race condition in alert delivery status updates","description":"alert.worker.ts:203-223 - Two separate DB updates for same alert. If crash between updates, alert stuck in 'sent' state. Fix: collect all message IDs, single atomic update at end.","status":"closed","priority":0,"issue_type":"bug","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:13:15.093742536+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:15:17.833742308+03:00","closed_at":"2026-01-14T16:15:17.833742308+03:00","close_reason":"Fixed: race condition, recovery fallback, logging, Redis policy"}
{"id":"buh-jo3","title":"Add warning in UI when manager_telegram_ids is empty","description":"UI позволяет сохранять чат без manager_telegram_ids, что делает уведомления невозможными. Добавить warning в frontend/src/app/chats/[id]/page.tsx","status":"closed","priority":2,"issue_type":"feature","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:05:43.671455481+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:17:39.827969707+03:00","closed_at":"2026-01-14T16:17:39.827969707+03:00","close_reason":"Fixed: UI warning, transaction boundaries, manager validation"}
{"id":"buh-qgo","title":"Fix Redis eviction policy for BullMQ","description":"Redis настроен с allkeys-lru, должен быть noeviction для BullMQ. Файл: infrastructure/docker-compose.yml","status":"closed","priority":3,"issue_type":"chore","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:05:45.830142822+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:15:17.854116079+03:00","closed_at":"2026-01-14T16:15:17.854116079+03:00","close_reason":"Fixed: race condition, recovery fallback, logging, Redis policy"}
{"id":"buh-vn3","title":"Test Beads integration","description":"Test task to verify Beads is working correctly","status":"closed","priority":4,"issue_type":"chore","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T13:40:24.325176345+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T13:40:32.649950416+03:00","closed_at":"2026-01-14T13:40:32.649950416+03:00","close_reason":"Test completed - Beads integration verified"}
{"id":"buh-w1w","title":"P1: Add global manager fallback when chat managers empty","description":"sla-timer.worker.ts:122-143 - When no managers configured, system logs warning but takes no action. Add fallback to global_settings.globalManagerIds","status":"closed","priority":1,"issue_type":"bug","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:13:16.252217505+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:17:39.843444149+03:00","closed_at":"2026-01-14T16:17:39.843444149+03:00","close_reason":"Fixed: UI warning, transaction boundaries, manager validation"}
{"id":"buh-xch","title":"P2: Centralize queue configuration in environment variables","description":"Hardcoded values in alert.worker.ts, sla-timer.worker.ts, setup.ts. Create config/queue.config.ts with env vars.","status":"open","priority":2,"issue_type":"chore","owner":"maslennikov.ig@gmail.com","created_at":"2026-01-14T16:13:20.880993331+03:00","created_by":"Igor Maslennikov","updated_at":"2026-01-14T16:13:20.880993331+03:00"}
