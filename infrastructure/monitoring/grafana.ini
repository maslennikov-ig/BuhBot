# Grafana Configuration
# This file will be mounted as a volume in docker-compose.yml

[server]
# Protocol (http, https, h2, socket)
protocol = http
# The http port to use
http_port = 3000
# The public facing domain name used to access Grafana from a browser
domain = localhost
# Redirect to correct domain if host header does not match domain
enforce_domain = false
# The full public facing url
root_url = %(protocol)s://%(domain)s:%(http_port)s/
# Serve Grafana from subpath specified in `root_url` setting. By default it is set to `false` for compatibility reasons.
serve_from_sub_path = false

[database]
# You can configure the database connection here if needed
# Default is sqlite3 stored in data directory
type = sqlite3
path = grafana.db

[security]
# Default admin user, created on startup
admin_user = admin
# Default admin password, change this before first use
admin_password = admin
# Secret key for signing
secret_key = SW2YcwTIb9zpOOhoPsMm

[users]
# Disable user signup / registration
allow_sign_up = false
# Allow non admin users to create organizations
allow_org_create = false

[auth.anonymous]
# Enable anonymous access
enabled = false

[auth]
# Login cookie name
login_cookie_name = grafana_session
# The maximum lifetime (seconds) an authenticated user can be inactive before being required to login at next visit
login_maximum_inactive_lifetime_seconds = 604800
# The maximum lifetime (seconds) an authenticated user can be logged in since login time before being required to login
login_maximum_lifetime_seconds = 2592000

[log]
# Either "console", "file", "syslog". Default is console and file
mode = console
# Log level: "debug", "info", "warn", "error", "critical"
level = info

[paths]
# Path to where grafana can store temp files, sessions, and the sqlite3 db (if used)
data = /var/lib/grafana
# Temporary files in `data` directory older than given duration will be removed
temp_data_lifetime = 24h
# Directory where grafana can store logs
logs = /var/log/grafana
# Directory where grafana will automatically scan and look for plugins
plugins = /var/lib/grafana/plugins
# Folder that contains provisioning config files that Grafana will apply on startup
provisioning = /etc/grafana/provisioning

[unified_alerting]
# Enable unified alerting (Grafana 9+)
enabled = true
# Alerting evaluation timeout
execute_alerts = true
# Alerting evaluation interval
evaluation_timeout = 30s
# Maximum number of attempts to deliver an alert
max_attempts = 3
# Minimum interval between rule evaluations
min_interval = 10s

[alerting]
# Disable legacy alerting (use unified alerting instead)
enabled = false
